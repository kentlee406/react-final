const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Layout-CDnZk-z2.js","assets/vendor-DCgf3J4u.js","assets/vendor-C2J0D0kV.css","assets/vendor-router-BS-I_zzl.js","assets/vendor-redux-B-LDsaQv.js","assets/vendor-bootstrap-DsuGXcVh.js","assets/vendor-bootstrap-HtRMvf9q.css","assets/Cart-D3eCP6OU.js","assets/vendor-axios-B9ygI19o.js","assets/Home-DVl5OTMd.js","assets/authToken-DvrakIaH.js","assets/Product-DKHGFPSR.js","assets/Products-DIj64cSa.js","assets/Pagination-D75gfH_0.js","assets/NotFound-V-_E_rnv.js","assets/AdminLogin-QH0bT8TJ.js","assets/AdminProduct-BKtFCzEi.js","assets/formatApiErrorMessage-CWn7tMz1.js","assets/AdminOrder-C0iFuISU.js"])))=>i.map(i=>d[i]);
import{r as c,k as i,G as P,l as x}from"./vendor-DCgf3J4u.js";import{c as j,R as S}from"./vendor-router-BS-I_zzl.js";import{c as w,a as O,u as R,b as A,P as b}from"./vendor-redux-B-LDsaQv.js";import"./vendor-bootstrap-DsuGXcVh.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&m(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function m(e){if(e.ep)return;e.ep=!0;const r=o(e);fetch(e.href,r)}})();const D="modulepreload",I=function(t){return"/react-final/"+t},_={},u=function(n,o,m){let e=Promise.resolve();if(o&&o.length>0){let E=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");e=E(o.map(l=>{if(l=I(l),l in _)return;_[l]=!0;const p=l.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":D,p||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),p)return new Promise((L,N)=>{f.addEventListener("load",L),f.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return e.then(s=>{for(const a of s||[])a.status==="rejected"&&r(a.reason);return n().catch(r)})},v=c.createContext(),C=({children:t})=>{const[n,o]=c.useState(!1),m=()=>o(!0),e=()=>o(!1);return i.jsx(v.Provider,{value:{isLoading:n,showLoading:m,hideLoading:e},children:t})};function T({forceShow:t=!1}){const{isLoading:n}=c.useContext(v);return!n&&!t?null:i.jsx("div",{className:"loading-overlay",children:i.jsxs("div",{className:"loading-container",children:[i.jsx(P,{height:"100",width:"100",color:"#0d6efd",secondaryColor:"#0d6efd",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperStyle:{},wrapperClass:"",visible:!0}),i.jsx("p",{className:"loading-text",children:"載入中..."})]})})}const z=c.lazy(()=>u(()=>import("./Layout-CDnZk-z2.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),V=c.lazy(()=>u(()=>import("./Cart-D3eCP6OU.js"),__vite__mapDeps([7,1,2,8,5,6,3,4]))),$=c.lazy(()=>u(()=>import("./Home-DVl5OTMd.js"),__vite__mapDeps([9,1,2,8,10,3,4,5,6]))),q=c.lazy(()=>u(()=>import("./Product-DKHGFPSR.js"),__vite__mapDeps([11,1,2,8,5,6,3,4]))),U=c.lazy(()=>u(()=>import("./Products-DIj64cSa.js"),__vite__mapDeps([12,1,2,8,5,6,13,3,4]))),k=c.lazy(()=>u(()=>import("./NotFound-V-_E_rnv.js"),__vite__mapDeps([14,1,2,3]))),B=c.lazy(()=>u(()=>import("./AdminLogin-QH0bT8TJ.js"),__vite__mapDeps([15,1,2,3,8,10,4,5,6]))),F=c.lazy(()=>u(()=>import("./AdminProduct-BKtFCzEi.js"),__vite__mapDeps([16,1,2,3,8,5,6,17,13,10,4]))),G=c.lazy(()=>u(()=>import("./AdminOrder-C0iFuISU.js"),__vite__mapDeps([18,1,2,3,8,10,17,4,5,6]))),d=t=>i.jsx(c.Suspense,{fallback:i.jsx(T,{forceShow:!0}),children:i.jsx(t,{})}),H=[{path:"/",element:d(z),children:[{index:!0,element:d($)},{path:"products",element:d(U)},{path:"product/:id",element:d(q)},{path:"cart",element:d(V)}]},{path:"login",element:d(B)},{path:"admin/product",element:d(F)},{path:"admin/order",element:d(G)},{path:"*",element:d(k)}],M={messages:[]},y=w({name:"notification",initialState:M,reducers:{addNotification(t,n){const{message:o,type:m="info",id:e}=n.payload;t.messages.push({id:e||Date.now(),message:o,type:m,timestamp:new Date().toISOString()})},removeNotification(t,n){t.messages=t.messages.filter(o=>o.id!==n.payload)},clearNotifications(t){t.messages=[]}}}),{addNotification:K,removeNotification:g,clearNotifications:ie}=y.actions,W=y.reducer,J=O({reducer:{notification:W}}),Q=()=>{const t=R();return{notifications:A(e=>e.notification.messages),showNotification:(e,r="info",s=null)=>{const a=Date.now();return t(K({id:a,message:e,type:r})),s&&setTimeout(()=>{t(g(a))},s),a},hideNotification:e=>{t(g(e))}}},X=()=>{const{notifications:t,hideNotification:n}=Q();return i.jsx("div",{className:"notification-container",children:t.map(o=>i.jsx("div",{className:`notification notification-${o.type}`,role:"alert",children:i.jsxs("div",{className:"notification-content",children:[i.jsx("span",{className:"notification-message",children:o.message}),i.jsx("button",{className:"notification-close",onClick:()=>n(o.id),"aria-label":"Close notification",children:"✕"})]})},o.id))})},Y=j(H);x.createRoot(document.getElementById("root")).render(i.jsx(b,{store:J,children:i.jsxs(C,{children:[i.jsx(X,{}),i.jsx(S,{router:Y})]})}));export{T as L,v as a,Q as u};
