import{r as c,k as s}from"./vendor-DCgf3J4u.js";import{a as i}from"./vendor-axios-B9ygI19o.js";import"./vendor-bootstrap-DsuGXcVh.js";import{a as x,u as g}from"./index-BWS5zvhs.js";import{u as j}from"./vendor-router-BS-I_zzl.js";import"./vendor-redux-B-LDsaQv.js";const r="https://ec-course-api.hexschool.io/v2",n="kentlee406";function P(){const[t,l]=c.useState({}),{id:o}=j(),{showLoading:d,hideLoading:m}=c.useContext(x),{showNotification:e}=g(),p=async()=>{try{d();const a=await i.get(`${r}/api/${n}/product/${o}`);l(a.data.product)}catch{e("取得產品資訊失敗，請稍後再試","error",8e3)}finally{m()}},u=async()=>{try{const a={data:{product_id:o,qty:1}};await i.post(`${r}/api/${n}/cart`,a),e("產品已新增至購物車","success",6e3)}catch{e("新增購物車失敗，請稍後再試","error",8e3)}};return c.useEffect(()=>{p()},[]),s.jsxs("div",{children:[s.jsx("img",{src:t.imageUrl,className:"card-img-top",alt:t.title,style:{height:"50vh",width:"auto"}}),s.jsxs("h2",{className:"fw-bold",children:[t.title,s.jsx("span",{className:"badge bg-primary ms-2",children:t.category})]}),s.jsxs("p",{children:["產品內容：",t.content]}),s.jsxs("p",{children:["產品描述：",t.description]}),s.jsxs("p",{className:"text-secondary small",children:["規格：",t.unit]}),s.jsxs("p",{children:[s.jsxs("del",{children:["$",t.origin_price]}),"/",s.jsxs("span",{className:"text-danger fw-bold ms-1",style:{fontSize:"1.5em"},children:["$",t.price]})]}),s.jsxs("div",{className:"row g-2",children:[" ",t.imagesUrl?.map((a,h)=>s.jsx("div",{className:"col-12 col-md-6 col-lg-3",children:s.jsx("img",{src:a,alt:"小圖",className:"img-fluid w-100",style:{objectFit:"cover",aspectRatio:"1/1"}})},h))]}),s.jsx("input",{type:"button",className:"btn btn-primary",value:"加入購物車",onClick:u})]})}export{P as default};
