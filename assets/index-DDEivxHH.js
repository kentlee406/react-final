const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Layout-2mCV8K25.js","assets/vendor-DCgf3J4u.js","assets/vendor-C2J0D0kV.css","assets/vendor-router-BS-I_zzl.js","assets/vendor-redux-B-LDsaQv.js","assets/vendor-bootstrap-DsuGXcVh.js","assets/vendor-bootstrap-HtRMvf9q.css","assets/Cart-BhwcSJga.js","assets/vendor-axios-B9ygI19o.js","assets/AboutUs-CiuYn5Ol.js","assets/FAQ-Bakl1kYn.js","assets/Home-ByRMvJ9u.js","assets/Product-Vpvu77M9.js","assets/Products-CqDQSLqe.js","assets/Pagination-D75gfH_0.js","assets/NotFound-BnO5rPTN.js","assets/AdminLogin-D3AlacTI.js","assets/authToken-DvrakIaH.js","assets/AdminProduct-C9q104_i.js","assets/formatApiErrorMessage-CWn7tMz1.js","assets/AdminOrder-CtEzL9EI.js"])))=>i.map(i=>d[i]);
import{r as s,k as r,G as N,l as x}from"./vendor-DCgf3J4u.js";import{c as O,R as j}from"./vendor-router-BS-I_zzl.js";import{c as A,a as R,u as S,b as w,P as b}from"./vendor-redux-B-LDsaQv.js";import"./vendor-bootstrap-DsuGXcVh.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&m(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const D="modulepreload",I=function(t){return"/react-final/"+t},_={},d=function(i,o,m){let e=Promise.resolve();if(o&&o.length>0){let E=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");e=E(o.map(u=>{if(u=I(u),u in _)return;_[u]=!0;const p=u.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":D,p||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),p)return new Promise((L,P)=>{f.addEventListener("load",L),f.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return e.then(a=>{for(const c of a||[])c.status==="rejected"&&n(c.reason);return i().catch(n)})},v=s.createContext();function T({forceShow:t=!1}){const{isLoading:i}=s.useContext(v);return!i&&!t?null:r.jsx("div",{className:"loading-overlay",children:r.jsxs("div",{className:"loading-container",children:[r.jsx(N,{height:"100",width:"100",color:"#0d6efd",secondaryColor:"#0d6efd",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperStyle:{},wrapperClass:"",visible:!0}),r.jsx("p",{className:"loading-text",children:"載入中..."})]})})}const z=s.lazy(()=>d(()=>import("./Layout-2mCV8K25.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),C=s.lazy(()=>d(()=>import("./Cart-BhwcSJga.js"),__vite__mapDeps([7,1,2,8,5,6,3,4]))),V=s.lazy(()=>d(()=>import("./AboutUs-CiuYn5Ol.js"),__vite__mapDeps([9,1,2,5,6,3]))),q=s.lazy(()=>d(()=>import("./FAQ-Bakl1kYn.js"),__vite__mapDeps([10,1,2,5,6]))),U=s.lazy(()=>d(()=>import("./Home-ByRMvJ9u.js"),__vite__mapDeps([11,1,2,8,3,4,5,6]))),$=s.lazy(()=>d(()=>import("./Product-Vpvu77M9.js"),__vite__mapDeps([12,1,2,8,5,6,3,4]))),F=s.lazy(()=>d(()=>import("./Products-CqDQSLqe.js"),__vite__mapDeps([13,1,2,8,5,6,14,3,4]))),k=s.lazy(()=>d(()=>import("./NotFound-BnO5rPTN.js"),__vite__mapDeps([15,1,2,3]))),B=s.lazy(()=>d(()=>import("./AdminLogin-D3AlacTI.js"),__vite__mapDeps([16,1,2,3,8,17,4,5,6]))),G=s.lazy(()=>d(()=>import("./AdminProduct-C9q104_i.js"),__vite__mapDeps([18,1,2,3,8,5,6,19,14,17,4]))),H=s.lazy(()=>d(()=>import("./AdminOrder-CtEzL9EI.js"),__vite__mapDeps([20,1,2,3,8,17,19,4,5,6]))),l=t=>r.jsx(s.Suspense,{fallback:r.jsx(T,{forceShow:!0}),children:s.createElement(t)}),M=[{path:"/",element:l(z),children:[{index:!0,element:l(U)},{path:"products",element:l(F)},{path:"product/:id",element:l($)},{path:"cart",element:l(C)},{path:"about",element:l(V)},{path:"faq",element:l(q)}]},{path:"login",element:l(B)},{path:"admin/product",element:l(G)},{path:"admin/order",element:l(H)},{path:"*",element:l(k)}],K=({children:t})=>{const[i,o]=s.useState(!1),m=()=>o(!0),e=()=>o(!1);return r.jsx(v.Provider,{value:{isLoading:i,showLoading:m,hideLoading:e},children:t})},Q={messages:[]},y=A({name:"notification",initialState:Q,reducers:{addNotification(t,i){const{message:o,type:m="info",id:e}=i.payload;t.messages.push({id:e||Date.now(),message:o,type:m,timestamp:new Date().toISOString()})},removeNotification(t,i){t.messages=t.messages.filter(o=>o.id!==i.payload)},clearNotifications(t){t.messages=[]}}}),{addNotification:W,removeNotification:g,clearNotifications:re}=y.actions,J=y.reducer,X=R({reducer:{notification:J}}),Y=()=>{const t=S();return{notifications:w(e=>e.notification.messages),showNotification:(e,n="info",a=null)=>{const c=Date.now();return t(W({id:c,message:e,type:n})),a&&setTimeout(()=>{t(g(c))},a),c},hideNotification:e=>{t(g(e))}}},Z=()=>{const{notifications:t,hideNotification:i}=Y();return r.jsx("div",{className:"notification-container",children:t.map(o=>r.jsx("div",{className:`notification notification-${o.type}`,role:"alert",children:r.jsxs("div",{className:"notification-content",children:[r.jsx("span",{className:"notification-message",children:o.message}),r.jsx("button",{className:"notification-close",onClick:()=>i(o.id),"aria-label":"Close notification",children:"✕"})]})},o.id))})},ee=O(M);x.createRoot(document.getElementById("root")).render(r.jsx(b,{store:X,children:r.jsxs(K,{children:[r.jsx(Z,{}),r.jsx(j,{router:ee})]})}));export{T as L,v as a,Y as u};
