const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Layout-Bok4kBXV.js","assets/vendor-DCgf3J4u.js","assets/vendor-C2J0D0kV.css","assets/vendor-router-BS-I_zzl.js","assets/vendor-redux-B-LDsaQv.js","assets/vendor-bootstrap-DsuGXcVh.js","assets/vendor-bootstrap-HtRMvf9q.css","assets/Cart-Dp07kle9.js","assets/vendor-axios-B9ygI19o.js","assets/Home-fJYnasnQ.js","assets/authToken-DvrakIaH.js","assets/Product-C4wzdRYz.js","assets/Products-Z62m5kdt.js","assets/Pagination-D75gfH_0.js","assets/NotFound-V-_E_rnv.js","assets/AdminLogin-B1KsQnh3.js","assets/AdminProduct-BRKmt2uS.js","assets/formatApiErrorMessage-CWn7tMz1.js","assets/AdminOrder-Bm6Ihwtp.js"])))=>i.map(i=>d[i]);
import{r as a,k as r,G as P,l as x}from"./vendor-DCgf3J4u.js";import{c as j,R as S}from"./vendor-router-BS-I_zzl.js";import{c as w,a as O,u as R,b as A,P as b}from"./vendor-redux-B-LDsaQv.js";import"./vendor-bootstrap-DsuGXcVh.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))m(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&m(s)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const D="modulepreload",I=function(t){return"/react-final/"+t},_={},u=function(i,o,m){let e=Promise.resolve();if(o&&o.length>0){let E=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");e=E(o.map(l=>{if(l=I(l),l in _)return;_[l]=!0;const p=l.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=p?"stylesheet":D,p||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),p)return new Promise((L,N)=>{f.addEventListener("load",L),f.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return e.then(s=>{for(const c of s||[])c.status==="rejected"&&n(c.reason);return i().catch(n)})},v=a.createContext();function C({forceShow:t=!1}){const{isLoading:i}=a.useContext(v);return!i&&!t?null:r.jsx("div",{className:"loading-overlay",children:r.jsxs("div",{className:"loading-container",children:[r.jsx(P,{height:"100",width:"100",color:"#0d6efd",secondaryColor:"#0d6efd",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperStyle:{},wrapperClass:"",visible:!0}),r.jsx("p",{className:"loading-text",children:"載入中..."})]})})}const T=a.lazy(()=>u(()=>import("./Layout-Bok4kBXV.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),z=a.lazy(()=>u(()=>import("./Cart-Dp07kle9.js"),__vite__mapDeps([7,1,2,8,5,6,3,4]))),V=a.lazy(()=>u(()=>import("./Home-fJYnasnQ.js"),__vite__mapDeps([9,1,2,8,10,3,4,5,6]))),$=a.lazy(()=>u(()=>import("./Product-C4wzdRYz.js"),__vite__mapDeps([11,1,2,8,5,6,3,4]))),q=a.lazy(()=>u(()=>import("./Products-Z62m5kdt.js"),__vite__mapDeps([12,1,2,8,5,6,13,3,4]))),U=a.lazy(()=>u(()=>import("./NotFound-V-_E_rnv.js"),__vite__mapDeps([14,1,2,3]))),k=a.lazy(()=>u(()=>import("./AdminLogin-B1KsQnh3.js"),__vite__mapDeps([15,1,2,3,8,10,4,5,6]))),B=a.lazy(()=>u(()=>import("./AdminProduct-BRKmt2uS.js"),__vite__mapDeps([16,1,2,3,8,5,6,17,13,10,4]))),F=a.lazy(()=>u(()=>import("./AdminOrder-Bm6Ihwtp.js"),__vite__mapDeps([18,1,2,3,8,10,17,4,5,6]))),d=t=>r.jsx(a.Suspense,{fallback:r.jsx(C,{forceShow:!0}),children:a.createElement(t)}),G=[{path:"/",element:d(T),children:[{index:!0,element:d(V)},{path:"products",element:d(q)},{path:"product/:id",element:d($)},{path:"cart",element:d(z)}]},{path:"login",element:d(k)},{path:"admin/product",element:d(B)},{path:"admin/order",element:d(F)},{path:"*",element:d(U)}],H=({children:t})=>{const[i,o]=a.useState(!1),m=()=>o(!0),e=()=>o(!1);return r.jsx(v.Provider,{value:{isLoading:i,showLoading:m,hideLoading:e},children:t})},M={messages:[]},y=w({name:"notification",initialState:M,reducers:{addNotification(t,i){const{message:o,type:m="info",id:e}=i.payload;t.messages.push({id:e||Date.now(),message:o,type:m,timestamp:new Date().toISOString()})},removeNotification(t,i){t.messages=t.messages.filter(o=>o.id!==i.payload)},clearNotifications(t){t.messages=[]}}}),{addNotification:K,removeNotification:g,clearNotifications:ie}=y.actions,W=y.reducer,J=O({reducer:{notification:W}}),Q=()=>{const t=R();return{notifications:A(e=>e.notification.messages),showNotification:(e,n="info",s=null)=>{const c=Date.now();return t(K({id:c,message:e,type:n})),s&&setTimeout(()=>{t(g(c))},s),c},hideNotification:e=>{t(g(e))}}},X=()=>{const{notifications:t,hideNotification:i}=Q();return r.jsx("div",{className:"notification-container",children:t.map(o=>r.jsx("div",{className:`notification notification-${o.type}`,role:"alert",children:r.jsxs("div",{className:"notification-content",children:[r.jsx("span",{className:"notification-message",children:o.message}),r.jsx("button",{className:"notification-close",onClick:()=>i(o.id),"aria-label":"Close notification",children:"✕"})]})},o.id))})},Y=j(G);x.createRoot(document.getElementById("root")).render(r.jsx(b,{store:J,children:r.jsxs(H,{children:[r.jsx(X,{}),r.jsx(S,{router:Y})]})}));export{C as L,v as a,Q as u};
